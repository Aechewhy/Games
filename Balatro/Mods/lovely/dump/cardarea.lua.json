{
  "buffer_name": "cardarea.lua",
  "entries": [
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\better_calc.toml",
        "pattern": "self:emplace(card, nil, stay_flipped)\nreturn true\n",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 707,
          "end_line": 708
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\blind.toml",
        "pattern": "local stay_flipped = G.GAME and G.GAME.blind and G.GAME.blind:stay_flipped(self, card)",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 701,
          "end_line": 701
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\booster.toml",
        "pattern": "(self.config.type == 'deck' and self ~= G.deck) or",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 326,
          "end_line": 326
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\booster.toml",
        "pattern": "if self.config.type == 'hand' and (G.STATE == G.STATES.TAROT_PACK or G.STATE == G.STATES.SPECTRAL_PACK  or G.STATE == G.STATES.PLANET_PACK) then",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 513,
          "end_line": 515
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\booster.toml",
        "pattern": "if self.config.type == 'hand' and not (G.STATE == G.STATES.TAROT_PACK or G.STATE == G.STATES.SPECTRAL_PACK or G.STATE == G.STATES.PLANET_PACK) then",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 530,
          "end_line": 532
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\card_limit.toml",
        "pattern": "self.config = config or {}\n",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 13,
          "end_line": 29
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\card_limit.toml",
        "pattern": "self.config = cardAreaTable.config\n",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 740,
          "end_line": 755
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\card_limit.toml",
        "pattern": "function CardArea:change_size(delta)\n",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 114,
          "end_line": 117
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\card_limit.toml",
        "pattern": "if self == G.deck and self.config.card_limit > #G.playing_cards then self.config.card_limit = #G.playing_cards end\n",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 309,
          "end_line": 312
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\card_limit.toml",
        "pattern": "self.config.temp_limit = math.max(#self.cards, self.config.card_limit)\nself.config.card_count = #self.cards\n",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 313,
          "end_line": 314
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\card_limit.toml",
        "pattern": "{n=G.UIT.T, config={ref_table = self.config, ref_value = 'card_limit', scale = 0.3, colour = G.C.WHITE}},\n",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 335,
          "end_line": 335
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\cardarea.toml",
        "pattern": "{n=G.UIT.R, config={minw = self.T.w,minh = self.T.h,align = \"cm\", padding = 0.1, mid = true, r = 0.1, colour = self ~= G.shop_vouchers and {0,0,0,0.1} or nil, ref_table = self}, nodes={",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 342,
          "end_line": 342
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\cardarea.toml",
        "pattern": "local card_count = self ~= G.shop_vouchers and {n=G.UIT.R, config={align = self == G.jokers and 'cl' or self == G.hand and 'cm' or 'cr', padding = 0.03, no_fill = true}, nodes={\n",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 331,
          "end_line": 331
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\fixes.toml",
        "pattern": "self:set_ranks()\nif self == G.deck then check_for_unlock({type = 'modify_deck', deck = self}) end",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 108,
          "end_line": 109
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\scoring_calculation.toml",
        "pattern": "update_hand_text({immediate = true, nopulse = true, delay = 0}, {mult = 0, chips = 0, level = '', handname = ''})\n",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 192,
          "end_line": 194
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\scoring_calculation.toml",
        "pattern": "update_hand_text({immediate = true, nopulse = nil, delay = 0}, {handname=disp_text, level=G.GAME.hands[text].level, mult = G.GAME.hands[text].mult, chips = G.GAME.hands[text].chips})\n",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 213,
          "end_line": 216
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\scoring_calculation.toml",
        "pattern": "update_hand_text({immediate = true, nopulse = nil, delay = 0}, {handname='????', level='?', mult = '?', chips = '?'})\n",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 209,
          "end_line": 211
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\sticker.toml",
        "pattern": "table.sort(self.cards, function (a, b) return a.T.x + a.T.w/2 - 100*(a.pinned and a.sort_id or 0) < b.T.x + b.T.w/2 - 100*(b.pinned and b.sort_id or 0) end)",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 626,
          "end_line": 626
        }
      ]
    },
    {
      "patch_source": {
        "file": "smods-1.0.0-beta-1224a\\lovely\\ui_elements.toml",
        "pattern": "if self.highlighted[1] then",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 159,
          "end_line": 159
        }
      ]
    },
    {
      "patch_source": {
        "file": "Talisman-main\\lovely.toml",
        "pattern": "self:change_size(self.config.last_poll_size - math.floor(G.GAME.dollars/G.GAME.modifiers.minus_hand_size_per_X_dollar))",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 292,
          "end_line": 292
        }
      ]
    },
    {
      "patch_source": {
        "file": "MobileLikeDragging\\lovely\\cardarea.toml",
        "pattern": "function CardArea:can_highlight(card)",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 137,
          "end_line": 138
        }
      ]
    },
    {
      "patch_source": {
        "file": "MobileLikeDragging\\lovely\\cardarea.toml",
        "pattern": "if G.deck_preview or self.states.collide.is or (G.buttons and G.buttons.states.collide.is and G.CONTROLLER.HID.controller) then self.children.view_deck:draw() end",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 456,
          "end_line": 456
        }
      ]
    },
    {
      "patch_source": {
        "file": "MobileLikeDragging\\lovely\\cardarea.toml",
        "pattern": "(?<before>function CardArea:remove_from_highlighted[\\s\\S]+)(?:    card:highlight\\(false\\))",
        "patch_type": "regex"
      },
      "regions": [
        {
          "start_line": 222,
          "end_line": 233
        }
      ]
    },
    {
      "patch_source": {
        "file": "MobileLikeDragging\\lovely\\cardarea.toml",
        "pattern": "(?<before>function CardArea:set_ranks[\\s\\S]+\\n)(?<toReplace> +card.states.drag.can = false)",
        "patch_type": "regex"
      },
      "regions": [
        {
          "start_line": 253,
          "end_line": 266
        }
      ]
    },
    {
      "patch_source": {
        "file": "MobileLikeDragging\\lovely\\cardarea.toml",
        "pattern": "card.T.r = 0.1",
        "patch_type": "regex"
      },
      "regions": [
        {
          "start_line": 609,
          "end_line": 609
        }
      ]
    },
    {
      "patch_source": {
        "file": "Cartomancer-main\\lovely\\dynamic-hand-align.toml",
        "pattern": "local max_cards = math.max(#self.cards, self.config.temp_limit)",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 520,
          "end_line": 520
        },
        {
          "start_line": 538,
          "end_line": 538
        },
        {
          "start_line": 554,
          "end_line": 554
        },
        {
          "start_line": 570,
          "end_line": 570
        },
        {
          "start_line": 585,
          "end_line": 585
        },
        {
          "start_line": 611,
          "end_line": 611
        }
      ]
    },
    {
      "patch_source": {
        "file": "Cartomancer-main\\lovely\\hidden-jokers.toml",
        "pattern": "self.children.area_uibox:draw()",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 362,
          "end_line": 364
        }
      ]
    },
    {
      "patch_source": {
        "file": "Cartomancer-main\\lovely\\hidden-jokers.toml",
        "pattern": "function CardArea:emplace(card, location, stay_flipped)",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 49,
          "end_line": 51
        }
      ]
    },
    {
      "patch_source": {
        "file": "Cartomancer-main\\lovely\\limit-deck-size.toml",
        "pattern": "local stay_flipped = G.GAME and G.GAME.blind and G.GAME.blind:stay_flipped(self, card*)",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 698,
          "end_line": 700
        }
      ]
    },
    {
      "patch_source": {
        "file": "Cartomancer-main\\lovely\\limit-deck-size.toml",
        "pattern": "(self.config.type == 'deck' and self ~= G.deck) or",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 327,
          "end_line": 327
        }
      ]
    },
    {
      "patch_source": {
        "file": "Cartomancer-main\\lovely\\limit-deck-size.toml",
        "pattern": "            local deck_height = (self.config.deck_height or 0.15)/52\n            for k, card in ipairs(self.cards) do\n                if card.facing == 'front' then card:flip() end\n\n                if not card.states.drag.is then\n                    card.T.x = self.T.x + 0.5*(self.T.w - card.T.w) + self.shadow_parrallax.x*deck_height*(#self.cards/(self == G.deck and 1 or 2) - k) + 0.9*self.shuffle_amt*(1 - k*0.01)*(k%2 == 1 and 1 or -0)\n                    card.T.y = self.T.y + 0.5*(self.T.h - card.T.h) + self.shadow_parrallax.y*deck_height*(#self.cards/(self == G.deck and 1 or 2) - k)\n                    card.T.r = 0 + 0.3*self.shuffle_amt*(1 + k*0.05)*(k%2 == 1 and 1 or -0)\n                    card.T.x = card.T.x + card.shadow_parrallax.x/30\n                end\n            end",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 464,
          "end_line": 500
        }
      ]
    },
    {
      "patch_source": {
        "file": "Cartomancer-main\\lovely\\zoom-jokers.toml",
        "pattern": "if self.config.type == 'joker' or self.config.type == 'title_2' then",
        "patch_type": "pattern"
      },
      "regions": [
        {
          "start_line": 595,
          "end_line": 606
        }
      ]
    },
    {
      "patch_source": {
        "file": "Cartomancer-main\\lovely\\dynamic-hand-align.toml",
        "pattern": "if self\\.config\\.type == \\'hand\\' and [^\\n]*then",
        "patch_type": "regex"
      },
      "regions": [
        {
          "start_line": 513,
          "end_line": 514
        },
        {
          "start_line": 530,
          "end_line": 531
        }
      ]
    }
  ]
}